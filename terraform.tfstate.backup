{"version":4,"terraform_version":"1.8.6","serial":17,"lineage":"195d138b-09b0-66ce-bc34-84c99afa7d4e","outputs":{},"resources":[{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_cluster_role","name":"controller","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"aggregation_rule":[],"id":"metallb-system:controller","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"metallb-system:controller","resource_version":"1258450","uid":"4b27959d-3204-485c-a2e4-06ab68e113e7"}],"rule":[{"api_groups":[""],"non_resource_urls":[],"resource_names":[],"resources":["services","namespaces"],"verbs":["get","list","watch"]},{"api_groups":[""],"non_resource_urls":[],"resource_names":[],"resources":["nodes"],"verbs":["list"]},{"api_groups":[""],"non_resource_urls":[],"resource_names":[],"resources":["services/status"],"verbs":["update"]},{"api_groups":[""],"non_resource_urls":[],"resource_names":[],"resources":["events"],"verbs":["create","patch"]},{"api_groups":["policy"],"non_resource_urls":[],"resource_names":["controller"],"resources":["podsecuritypolicies"],"verbs":["use"]},{"api_groups":["admissionregistration.k8s.io"],"non_resource_urls":[],"resource_names":["metallb-webhook-configuration"],"resources":["validatingwebhookconfigurations"],"verbs":["create","delete","get","list","patch","update","watch"]},{"api_groups":["admissionregistration.k8s.io"],"non_resource_urls":[],"resource_names":[],"resources":["validatingwebhookconfigurations"],"verbs":["list","watch"]},{"api_groups":["apiextensions.k8s.io"],"non_resource_urls":[],"resource_names":["bfdprofiles.metallb.io","bgpadvertisements.metallb.io","bgppeers.metallb.io","ipaddresspools.metallb.io","l2advertisements.metallb.io","communities.metallb.io"],"resources":["customresourcedefinitions"],"verbs":["create","delete","get","list","patch","update","watch"]},{"api_groups":["apiextensions.k8s.io"],"non_resource_urls":[],"resource_names":[],"resources":["customresourcedefinitions"],"verbs":["list","watch"]}]},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_cluster_role","name":"speaker","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"aggregation_rule":[],"id":"metallb-system:speaker","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"metallb-system:speaker","resource_version":"1258449","uid":"e173fa5a-4b13-4eb4-bf68-aa20682a8d0a"}],"rule":[{"api_groups":["metallb.io"],"non_resource_urls":[],"resource_names":[],"resources":["servicel2statuses","servicel2statuses/status"],"verbs":["*"]},{"api_groups":[""],"non_resource_urls":[],"resource_names":[],"resources":["services","endpoints","nodes","namespaces"],"verbs":["get","list","watch"]},{"api_groups":["discovery.k8s.io"],"non_resource_urls":[],"resource_names":[],"resources":["endpointslices"],"verbs":["get","list","watch"]},{"api_groups":[""],"non_resource_urls":[],"resource_names":[],"resources":["events"],"verbs":["create","patch"]},{"api_groups":["policy"],"non_resource_urls":[],"resource_names":["speaker"],"resources":["podsecuritypolicies"],"verbs":["use"]}]},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_cluster_role_binding","name":"controller","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system:controller","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"metallb-system:controller","resource_version":"1256524","uid":"df7aac90-f088-4641-975f-645c85ff45df"}],"role_ref":[{"api_group":"rbac.authorization.k8s.io","kind":"ClusterRole","name":"metallb-system:controller"}],"subject":[{"api_group":"","kind":"ServiceAccount","name":"controller","namespace":"metallb-system"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_cluster_role_binding","name":"speaker","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system:speaker","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"metallb-system:speaker","resource_version":"1256521","uid":"3a754100-7e63-4025-bd9e-abf54284e4d2"}],"role_ref":[{"api_group":"rbac.authorization.k8s.io","kind":"ClusterRole","name":"metallb-system:speaker"}],"subject":[{"api_group":"","kind":"ServiceAccount","name":"speaker","namespace":"metallb-system"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_config_map","name":"metallb_config","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"binary_data":{},"data":{"config":"    address-pools:\n    - name: default\n      protocol: layer2\n      addresses:\n      - \"192.168.1.210-192.168.1.250\"\n"},"id":"metallb-system/config","immutable":false,"metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{},"name":"config","namespace":"metallb-system","resource_version":"1256078","uid":"01a23547-9ba6-44c7-b879-d7a19dee2043"}]},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_daemonset","name":"speaker","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"metallb-system/speaker","metadata":[{"annotations":{},"generate_name":"","generation":1,"labels":{"app":"metallb","component":"speaker"},"name":"speaker","namespace":"metallb-system","resource_version":"1256099","uid":"f8af1fe9-3919-467d-9f10-c1080d6f4d9f"}],"spec":[{"min_ready_seconds":0,"revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"metallb","component":"speaker"}}],"strategy":[{"rolling_update":[{"max_unavailable":"1"}],"type":"RollingUpdate"}],"template":[{"metadata":[{"annotations":{"prometheus.io/port":"7472","prometheus.io/scrape":"true"},"generate_name":"","generation":0,"labels":{"app":"metallb","component":"speaker"},"name":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":["--port=7472","--log-level=info"],"command":[],"env":[{"name":"METALLB_NODE_NAME","value":"","value_from":[{"config_map_key_ref":[],"field_ref":[{"api_version":"v1","field_path":"spec.nodeName"}],"resource_field_ref":[],"secret_key_ref":[]}]},{"name":"METALLB_HOST","value":"","value_from":[{"config_map_key_ref":[],"field_ref":[{"api_version":"v1","field_path":"status.hostIP"}],"resource_field_ref":[],"secret_key_ref":[]}]},{"name":"METALLB_ML_BIND_ADDR","value":"","value_from":[{"config_map_key_ref":[],"field_ref":[{"api_version":"v1","field_path":"status.podIP"}],"resource_field_ref":[],"secret_key_ref":[]}]},{"name":"METALLB_ML_LABELS","value":"app=metallb,component=speaker","value_from":[]},{"name":"METALLB_ML_SECRET_KEY","value":"","value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"secretkey","name":"memberlist","optional":false}]}]}],"env_from":[],"image":"quay.io/metallb/speaker:v0.14.8","image_pull_policy":"IfNotPresent","lifecycle":[],"liveness_probe":[],"name":"speaker","port":[{"container_port":7472,"host_ip":"","host_port":7472,"name":"monitoring","protocol":"TCP"},{"container_port":7946,"host_ip":"","host_port":0,"name":"memberlist-tcp","protocol":"TCP"},{"container_port":7946,"host_ip":"","host_port":0,"name":"memberlist-udp","protocol":"UDP"}],"readiness_probe":[],"resources":[{"limits":{},"requests":{}}],"security_context":[{"allow_privilege_escalation":false,"capabilities":[{"add":["NET_RAW"],"drop":["ALL"]}],"privileged":false,"read_only_root_filesystem":true,"run_as_group":"","run_as_non_root":false,"run_as_user":"","se_linux_options":[],"seccomp_profile":[]}],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_mount":[],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":true,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":{"kubernetes.io/os":"linux"},"os":[],"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","runtime_class_name":"","scheduler_name":"default-scheduler","security_context":[],"service_account_name":"speaker","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":2,"toleration":[{"effect":"NoSchedule","key":"node-role.kubernetes.io/master","operator":"Exists","toleration_seconds":"","value":""}],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_deployment","name":"controller","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"metallb-system/controller","metadata":[{"annotations":{},"generate_name":"","generation":1,"labels":{"app":"metallb","component":"controller"},"name":"controller","namespace":"metallb-system","resource_version":"1259163","uid":"0fcc6560-7606-4cfe-a9a4-ec012c62f869"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":3,"selector":[{"match_expressions":[],"match_labels":{"app":"metallb","component":"controller"}}],"strategy":[{"rolling_update":[{"max_surge":"25%","max_unavailable":"25%"}],"type":"RollingUpdate"}],"template":[{"metadata":[{"annotations":{"prometheus.io/port":"7472","prometheus.io/scrape":"true"},"generate_name":"","generation":0,"labels":{"app":"metallb","component":"controller"},"name":"","namespace":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":["--port=7472","--log-level=info"],"command":[],"env":[{"name":"METALLB_ML_SECRET_NAME","value":"memberlist","value_from":[]},{"name":"METALLB_DEPLOYMENT","value":"controller","value_from":[]}],"env_from":[],"image":"quay.io/metallb/controller:v0.14.8","image_pull_policy":"IfNotPresent","lifecycle":[],"liveness_probe":[],"name":"controller","port":[{"container_port":7472,"host_ip":"","host_port":0,"name":"monitoring","protocol":"TCP"}],"readiness_probe":[],"resources":[{"limits":{},"requests":{}}],"security_context":[{"allow_privilege_escalation":false,"capabilities":[{"add":[],"drop":["ALL"]}],"privileged":false,"read_only_root_filesystem":true,"run_as_group":"","run_as_non_root":false,"run_as_user":"","se_linux_options":[],"seccomp_profile":[]}],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_mount":[],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":{"kubernetes.io/os":"linux"},"os":[],"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","runtime_class_name":"","scheduler_name":"default-scheduler","security_context":[{"fs_group":"","fs_group_change_policy":"","run_as_group":"","run_as_non_root":true,"run_as_user":"65534","se_linux_options":[],"seccomp_profile":[],"supplemental_groups":[],"sysctl":[],"windows_options":[]}],"service_account_name":"controller","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":0,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_namespace","name":"metallb_system","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb","pod-security.kubernetes.io/audit":"privileged","pod-security.kubernetes.io/enforce":"privileged","pod-security.kubernetes.io/warn":"privileged"},"name":"metallb-system","resource_version":"1259346","uid":"cc204d0c-e3b0-4e0f-a229-16de22bfe0a7"}],"timeouts":null,"wait_for_default_service_account":false},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_role","name":"config_watcher","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system/config-watcher","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"config-watcher","namespace":"metallb-system","resource_version":"1256075","uid":"12629985-7089-4f0f-bb68-e5b61c717600"}],"rule":[{"api_groups":[""],"resource_names":[],"resources":["configmaps"],"verbs":["get","list","watch"]}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_role","name":"controller","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system/controller","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"controller","namespace":"metallb-system","resource_version":"1259347","uid":"c42cbbdc-25b6-4ea2-95ed-b9f9fbe609fb"}],"rule":[{"api_groups":[""],"resource_names":[],"resources":["secrets"],"verbs":["create","delete","get","list","patch","update","watch"]},{"api_groups":[""],"resource_names":["memberlist"],"resources":["secrets"],"verbs":["list"]},{"api_groups":["apps"],"resource_names":["controller"],"resources":["deployments"],"verbs":["get"]},{"api_groups":["metallb.io"],"resource_names":null,"resources":["bgppeers"],"verbs":["get","list"]},{"api_groups":["metallb.io"],"resource_names":null,"resources":["bfdprofiles"],"verbs":["get","list","watch"]},{"api_groups":["metallb.io"],"resource_names":null,"resources":["ipaddresspools"],"verbs":["get","list","watch"]},{"api_groups":["metallb.io"],"resource_names":null,"resources":["bgpadvertisements"],"verbs":["get","list","watch"]},{"api_groups":["metallb.io"],"resource_names":null,"resources":["l2advertisements"],"verbs":["get","list","watch"]},{"api_groups":["metallb.io"],"resource_names":null,"resources":["communities"],"verbs":["get","list","watch"]}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_role","name":"pod_lister","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system/pod-lister","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"pod-lister","namespace":"metallb-system","resource_version":"1256077","uid":"a046f830-e0d3-4319-84d6-6fd62b3756c6"}],"rule":[{"api_groups":[""],"resource_names":[],"resources":["pods"],"verbs":["list"]}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_role_binding","name":"config_watcher","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system/config-watcher","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"config-watcher","namespace":"metallb-system","resource_version":"1256082","uid":"dab957b4-0121-4926-b6ac-fdb74afea3d2"}],"role_ref":[{"api_group":"rbac.authorization.k8s.io","kind":"Role","name":"config-watcher"}],"subject":[{"api_group":"","kind":"ServiceAccount","name":"controller","namespace":"metallb-system"},{"api_group":"","kind":"ServiceAccount","name":"speaker","namespace":"metallb-system"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system","module.dev-cluster.module.metallb.kubernetes_service_account.controller","module.dev-cluster.module.metallb.kubernetes_service_account.speaker"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_role_binding","name":"controller","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system/controller","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"controller","namespace":"metallb-system","resource_version":"1256080","uid":"a55fcad9-2481-48a6-9a18-e1294e16b49a"}],"role_ref":[{"api_group":"rbac.authorization.k8s.io","kind":"Role","name":"controller"}],"subject":[{"api_group":"","kind":"ServiceAccount","name":"controller","namespace":"metallb-system"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system","module.dev-cluster.module.metallb.kubernetes_service_account.controller"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_role_binding","name":"pod_lister","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"metallb-system/pod-lister","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"pod-lister","namespace":"metallb-system","resource_version":"1256081","uid":"40e2e885-4a0b-4e1d-9fe0-bfd6e5b9d598"}],"role_ref":[{"api_group":"rbac.authorization.k8s.io","kind":"Role","name":"pod-lister"}],"subject":[{"api_group":"","kind":"ServiceAccount","name":"speaker","namespace":"metallb-system"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system","module.dev-cluster.module.metallb.kubernetes_service_account.speaker"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_service_account","name":"controller","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"automount_service_account_token":true,"default_secret_name":"","id":"metallb-system/controller","image_pull_secret":[],"metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"controller","namespace":"metallb-system","resource_version":"1256074","uid":"5af04d30-09f9-4fe8-90fa-e3aaa23e8495"}],"secret":[],"timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]},{"module":"module.dev-cluster.module.metallb","mode":"managed","type":"kubernetes_service_account","name":"speaker","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"automount_service_account_token":true,"default_secret_name":"","id":"metallb-system/speaker","image_pull_secret":[],"metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{"app":"metallb"},"name":"speaker","namespace":"metallb-system","resource_version":"1256076","uid":"fc284110-927c-4965-84df-a317ccdd9894"}],"secret":[],"timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19","dependencies":["module.dev-cluster.module.metallb.kubernetes_namespace.metallb_system"]}]}],"check_results":null}
